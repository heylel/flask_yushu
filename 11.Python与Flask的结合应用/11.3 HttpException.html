
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>11.3 HttpException · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="11.4 发送电子邮件.html" />
    
    
    <link rel="prev" href="11.2 first_or_404和可调用对象.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../1.项目准备与flask基础/">
            
                <a href="../1.项目准备与flask基础/">
            
                    
                    1.项目准备与flask基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../1.项目准备与flask基础/1.1pipenv 安装与使用.html">
            
                <a href="../1.项目准备与flask基础/1.1pipenv 安装与使用.html">
            
                    
                    1.1 pipenv 安装与使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../1.项目准备与flask基础/2.flask 入门基础.html">
            
                <a href="../1.项目准备与flask基础/2.flask 入门基础.html">
            
                    
                    1.2 flask 入门基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../2.搜索书籍路由编写/">
            
                <a href="../2.搜索书籍路由编写/">
            
                    
                    2.数据与flask路由
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../2.搜索书籍路由编写/2.1 定义参数，判断查询参数q是否是isbn号.html">
            
                <a href="../2.搜索书籍路由编写/2.1 定义参数，判断查询参数q是否是isbn号.html">
            
                    
                    2.1 定义参数，判断查询参数q是否是isbn号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../2.搜索书籍路由编写/2.2 简单的重构.html">
            
                <a href="../2.搜索书籍路由编写/2.2 简单的重构.html">
            
                    
                    2.2 简单的重构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../2.搜索书籍路由编写/2.3 requests发送http请求及代码的简化手段.html">
            
                <a href="../2.搜索书籍路由编写/2.3 requests发送http请求及代码的简化手段.html">
            
                    
                    2.3 requests发送http请求及代码的简化手段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../2.搜索书籍路由编写/2.4 requests vs urllib.html">
            
                <a href="../2.搜索书籍路由编写/2.4 requests vs urllib.html">
            
                    
                    2.4 requests vs urllib
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../2.搜索书籍路由编写/2.5 从API获取数据.html">
            
                <a href="../2.搜索书籍路由编写/2.5 从API获取数据.html">
            
                    
                    2.5 从API获取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../2.搜索书籍路由编写/2.6 将视图函数拆分到单独的模块中.html">
            
                <a href="../2.搜索书籍路由编写/2.6 将视图函数拆分到单独的模块中.html">
            
                    
                    2.6 多模块拆分的误区
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../3.蓝图、模型与CodeFirst/">
            
                <a href="../3.蓝图、模型与CodeFirst/">
            
                    
                    3.蓝图、模型与CodeFirst
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../3.蓝图、模型与CodeFirst/3.1 应用、蓝图与视图函数.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.1 应用、蓝图与视图函数.html">
            
                    
                    3.1 应用、蓝图与视图函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../3.蓝图、模型与CodeFirst/3.2 用蓝图注册试图函数.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.2 用蓝图注册试图函数.html">
            
                    
                    3.2 用蓝图注册视图函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../3.蓝图、模型与CodeFirst/3.3 单蓝图多模块拆分视图函数.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.3 单蓝图多模块拆分视图函数.html">
            
                    
                    3.3 单蓝图多模块拆分视图函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../3.蓝图、模型与CodeFirst/3.4 Request对象.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.4 Request对象.html">
            
                    
                    3.4 Request对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../3.蓝图、模型与CodeFirst/3.5 WTForms参数验证.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.5 WTForms参数验证.html">
            
                    
                    3.5 WTForms参数验证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../3.蓝图、模型与CodeFirst/3.6 配置文件拆分.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.6 配置文件拆分.html">
            
                    
                    3.6 配置文件拆分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../3.蓝图、模型与CodeFirst/3.7 Model First、Database First与Code First.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.7 Model First、Database First与Code First.html">
            
                    
                    3.7 数据表创建方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../3.蓝图、模型与CodeFirst/3.8 定义第一个模型类.html">
            
                <a href="../3.蓝图、模型与CodeFirst/3.8 定义第一个模型类.html">
            
                    
                    3.8 定义第一个模型类以及反向生成
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../4.flask核心机制/">
            
                <a href="../4.flask核心机制/">
            
                    
                    4.flask核心机制
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../4.flask核心机制/4.1 flask中经典错误 working outside application context.html">
            
                <a href="../4.flask核心机制/4.1 flask中经典错误 working outside application context.html">
            
                    
                    4.1 flask中经典错误 working outside application context
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../4.flask核心机制/4.2 AppContext、RequestContext、Flask与Request之间的关系.html">
            
                <a href="../4.flask核心机制/4.2 AppContext、RequestContext、Flask与Request之间的关系.html">
            
                    
                    4.2 AppContext、RequestContext、Flask与Request之间的关系
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../4.flask核心机制/4.3 详解flask上下文与出入栈.html">
            
                <a href="../4.flask核心机制/4.3 详解flask上下文与出入栈.html">
            
                    
                    4.3 详解flask上下文与出入栈
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../4.flask核心机制/4.4 flask上下文与with语句.html">
            
                <a href="../4.flask核心机制/4.4 flask上下文与with语句.html">
            
                    
                    4.4 flask上下文与with语句
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../4.flask核心机制/4.6 阅读源码解决db.create_all的问题.html">
            
                <a href="../4.flask核心机制/4.6 阅读源码解决db.create_all的问题.html">
            
                    
                    4.5 阅读源码解决db.create_all的问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../5.Flask中的多线程与线程隔离技术/">
            
                <a href="../5.Flask中的多线程与线程隔离技术/">
            
                    
                    5.Flask中的多线程与线程隔离技术
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../5.Flask中的多线程与线程隔离技术/5.1 线程进程与多线程.html">
            
                <a href="../5.Flask中的多线程与线程隔离技术/5.1 线程进程与多线程.html">
            
                    
                    5.1 线程进程与多线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../5.Flask中的多线程与线程隔离技术/5.2 全局解释器锁GIL.html">
            
                <a href="../5.Flask中的多线程与线程隔离技术/5.2 全局解释器锁GIL.html">
            
                    
                    5.2 Python和Flask的多线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../5.Flask中的多线程与线程隔离技术/5.5 Flask中的线程隔离.html">
            
                <a href="../5.Flask中的多线程与线程隔离技术/5.5 Flask中的线程隔离.html">
            
                    
                    5.3 Flask中的线程隔离
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../5.Flask中的多线程与线程隔离技术/5.6 梳理串接flask的一些名词.html">
            
                <a href="../5.Flask中的多线程与线程隔离技术/5.6 梳理串接flask的一些名词.html">
            
                    
                    5.4 梳理串接flask的一些名词
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../6.书籍详情页面的构建/">
            
                <a href="../6.书籍详情页面的构建/">
            
                    
                    6.书籍详情页面的构建
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../6.书籍详情页面的构建/6.1 ViewModel的基本概念.html">
            
                <a href="../6.书籍详情页面的构建/6.1 ViewModel的基本概念.html">
            
                    
                    6.1 ViewModel的基本概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../6.书籍详情页面的构建/6.2 使用ViewModel处理书籍数据.html">
            
                <a href="../6.书籍详情页面的构建/6.2 使用ViewModel处理书籍数据.html">
            
                    
                    6.2 使用ViewModel处理书籍数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../6.书籍详情页面的构建/6.3 伪面向对象：披着面向对象外衣的面向过程.html">
            
                <a href="../6.书籍详情页面的构建/6.3 伪面向对象：披着面向对象外衣的面向过程.html">
            
                    
                    6.3 伪面向对象：披着面向对象外衣的面向过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../6.书籍详情页面的构建/6.4 重构鱼书核心对象.html">
            
                <a href="../6.书籍详情页面的构建/6.4 重构鱼书核心对象.html">
            
                    
                    6.4 重构鱼书核心对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../6.书籍详情页面的构建/6.5 从json序列化看代码解释权反转.html">
            
                <a href="../6.书籍详情页面的构建/6.5 从json序列化看代码解释权反转.html">
            
                    
                    6.5 从json序列化看代码解释权反转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../6.书籍详情页面的构建/6.6 详解单页面与网站的区别.html">
            
                <a href="../6.书籍详情页面的构建/6.6 详解单页面与网站的区别.html">
            
                    
                    6.6 详解单页面与网站的区别
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../7.静态文件、模板、消息闪现与Jinja2/">
            
                <a href="../7.静态文件、模板、消息闪现与Jinja2/">
            
                    
                    7.静态文件、模板、消息闪现与Jinja2
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../7.静态文件、模板、消息闪现与Jinja2/7.1 静态文件访问原理.html">
            
                <a href="../7.静态文件、模板、消息闪现与Jinja2/7.1 静态文件访问原理.html">
            
                    
                    7.1 静态文件访问原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../7.静态文件、模板、消息闪现与Jinja2/7.2 模板文件的位置与修改方案_x264.html">
            
                <a href="../7.静态文件、模板、消息闪现与Jinja2/7.2 模板文件的位置与修改方案_x264.html">
            
                    
                    7.2 模板文件的位置与修改方案_x264
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../7.静态文件、模板、消息闪现与Jinja2/7.6 过滤器与管道命令.html">
            
                <a href="../7.静态文件、模板、消息闪现与Jinja2/7.6 过滤器与管道命令.html">
            
                    
                    7.4 过滤器与管道命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../7.静态文件、模板、消息闪现与Jinja2/7.7 反向构建URL.html">
            
                <a href="../7.静态文件、模板、消息闪现与Jinja2/7.7 反向构建URL.html">
            
                    
                    7.5 反向构建URL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../7.静态文件、模板、消息闪现与Jinja2/7.8 消息闪现、SecretyKey与变量作用域.html">
            
                <a href="../7.静态文件、模板、消息闪现与Jinja2/7.8 消息闪现、SecretyKey与变量作用域.html">
            
                    
                    7.6 消息闪现、SecretyKey与变量作用域
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../8.用户登录与注册/">
            
                <a href="../8.用户登录与注册/">
            
                    
                    8.用户登录与注册
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../8.用户登录与注册/8.1 viewmodel意义的体现与filter函数的巧妙应用.html">
            
                <a href="../8.用户登录与注册/8.1 viewmodel意义的体现与filter函数的巧妙应用.html">
            
                    
                    8.1 viewmodel意义的体现与filter函数的巧妙应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../8.用户登录与注册/8.2 书籍详情页面.html">
            
                <a href="../8.用户登录与注册/8.2 书籍详情页面.html">
            
                    
                    8.2 书籍详情页面
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../8.用户登录与注册/8.3 模型关系.html">
            
                <a href="../8.用户登录与注册/8.3 模型关系.html">
            
                    
                    8.3 模型关系
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../8.用户登录与注册/8.4 用户注册.html">
            
                <a href="../8.用户登录与注册/8.4 用户注册.html">
            
                    
                    8.4 用户注册
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../8.用户登录与注册/8.5 用户登录.html">
            
                <a href="../8.用户登录与注册/8.5 用户登录.html">
            
                    
                    8.5 用户登录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../8.用户登录与注册/8.6 访问权限控制与重定向攻击.html">
            
                <a href="../8.用户登录与注册/8.6 访问权限控制与重定向攻击.html">
            
                    
                    8.6 访问权限控制与重定向攻击
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../9.书籍交易模型/">
            
                <a href="../9.书籍交易模型/">
            
                    
                    9.书籍交易模型（数据库事务、重写Flask中的对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../9.书籍交易模型/9.1 鱼豆.html">
            
                <a href="../9.书籍交易模型/9.1 鱼豆.html">
            
                    
                    9.1 鱼豆
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../9.书籍交易模型/9.1 contextmanager.html">
            
                <a href="../9.书籍交易模型/9.1 contextmanager.html">
            
                    
                    9.2 contextmanager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../9.书籍交易模型/9.3 书籍交易视图模型.html">
            
                <a href="../9.书籍交易模型/9.3 书籍交易视图模型.html">
            
                    
                    9.3 书籍交易视图模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../9.书籍交易模型/9.4 重写filter_by.html">
            
                <a href="../9.书籍交易模型/9.4 重写filter_by.html">
            
                    
                    9.4 重写filter_by
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../10.鱼书业务处理/">
            
                <a href="../10.鱼书业务处理/">
            
                    
                    10.鱼书业务处理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../10.鱼书业务处理/10.1 最近的礼物.html">
            
                <a href="../10.鱼书业务处理/10.1 最近的礼物.html">
            
                    
                    10.1 最近的礼物
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../10.鱼书业务处理/10.2 我的礼物.html">
            
                <a href="../10.鱼书业务处理/10.2 我的礼物.html">
            
                    
                    10.2 我的礼物（赠送清单）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../10.鱼书业务处理/10.3 我的心愿.html">
            
                <a href="../10.鱼书业务处理/10.3 我的心愿.html">
            
                    
                    10.3 我的心愿（心愿清单）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="./">
            
                <a href="./">
            
                    
                    11.Python与Flask的结合应用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="11.1 忘记密码.html">
            
                <a href="11.1 忘记密码.html">
            
                    
                    11.1 重置密码流程分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="11.2 first_or_404和可调用对象.html">
            
                <a href="11.2 first_or_404和可调用对象.html">
            
                    
                    11.2 first_or_404和可调用对象
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.3" data-path="11.3 HttpException.html">
            
                <a href="11.3 HttpException.html">
            
                    
                    11.3 HttpException
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="11.4 发送电子邮件.html">
            
                <a href="11.4 发送电子邮件.html">
            
                    
                    11.4 重置密码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="11.5 鱼漂.html">
            
                <a href="11.5 鱼漂.html">
            
                    
                    11.5 发送鱼漂
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="11.5 交易记录.html">
            
                <a href="11.5 交易记录.html">
            
                    
                    11.6 交易记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="11.7 撤销操作.html">
            
                <a href="11.7 撤销操作.html">
            
                    
                    11.7 其他操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >11.3 HttpException</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="113-httpexception">11.3 HttpException</h1>
<h3 id="1firstot404&#x7684;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x6D41;&#x7A0B;">1.first_ot_404&#x7684;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x6D41;&#x7A0B;</h3>
<p>&#x6211;&#x4EEC;&#x6765;&#x63A5;&#x7740;&#x770B;Aborter&#x7C7B;&#x4E2D;&#x7684;first<em>ot_404&#x6D41;&#x7A0B;,&#x5728;first_ot_404&#x8C03;&#x7528;&#x6D41;&#x7A0B;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x6EE1;&#x8DB3;\</em>_call__&#x7684;&#x524D;&#x4E24;&#x4E2A;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A;&#x629B;&#x51FA;self.mapping&#xFF0C;&#x5176;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x58F0;&#x660E;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Aborter</span><span class="hljs-params">(object)</span>:</span>

    <span class="hljs-string">&quot;&quot;&quot;
    When passed a dict of code -&gt; exception items it can be used as
    callable that raises exceptions.  If the first argument to the
    callable is an integer it will be looked up in the mapping, if it&apos;s
    a WSGI application it will be raised in a proxy exception.

    The rest of the arguments are forwarded to the exception constructor.
    &quot;&quot;&quot;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, mapping=None, extra=None)</span>:</span>
        <span class="hljs-keyword">if</span> mapping <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            mapping = default_exceptions
        self.mapping = dict(mapping)
        <span class="hljs-keyword">if</span> extra <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            self.mapping.update(extra)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__call__</span><span class="hljs-params">(self, code, *args, **kwargs)</span>:</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> args <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> kwargs <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> isinstance(code, integer_types):
            <span class="hljs-keyword">raise</span> HTTPException(response=code)
        <span class="hljs-keyword">if</span> code <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.mapping:
            <span class="hljs-keyword">raise</span> LookupError(<span class="hljs-string">&apos;no exception for %r&apos;</span> % code)
        <span class="hljs-keyword">raise</span> self.mapping[code](*args, **kwargs)
</code></pre>
<p>self.mapping&#x662F;&#x4E00;&#x4E2A;dict&#xFF0C;&#x5176;&#x5C01;&#x88C5;&#x4E86;default_exceptions&#xFF0C;&#x4E0B;&#x9762;&#x6765;&#x770B;&#x4E00;&#x4E0B;default_exceptions&#x7684;&#x88C5;&#x8F7D;&#xFF0C;&#x5728;_find_exceptions&#x4E2D;&#x5B8C;&#x6210;&#x3002;&#x4ED6;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x626B;&#x63CF;&#x5F53;&#x524D;&#x6A21;&#x5757;&#x4E0B;&#x6240;&#x6709;HTTPException&#x7684;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x88C5;&#x8F7D;&#x5230;default_exceptions</p>
<pre><code class="lang-python">default_exceptions = {}
__all__ = [<span class="hljs-string">&apos;HTTPException&apos;</span>]


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_find_exceptions</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">for</span> name, obj <span class="hljs-keyword">in</span> iteritems(globals()):
        <span class="hljs-keyword">try</span>:
            is_http_exception = issubclass(obj, HTTPException)
        <span class="hljs-keyword">except</span> TypeError:
            is_http_exception = <span class="hljs-keyword">False</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> is_http_exception <span class="hljs-keyword">or</span> obj.code <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">continue</span>
        __all__.append(obj.__name__)
        old_obj = default_exceptions.get(obj.code, <span class="hljs-keyword">None</span>)
        <span class="hljs-keyword">if</span> old_obj <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span> <span class="hljs-keyword">and</span> issubclass(obj, old_obj):
            <span class="hljs-keyword">continue</span>
        default_exceptions[obj.code] = obj
_find_exceptions()
<span class="hljs-keyword">del</span> _find_exceptions
</code></pre>
<p>&#x6700;&#x7EC8;Aborter&#x51FD;&#x6570;&#x7684;__call__&#x65B9;&#x6CD5;&#x62FF;&#x7740;&#x5C01;&#x88C5;&#x597D;&#x7684;self.mapping&#xFF08;&#x5B9E;&#x8D28;&#x662F;default_exceptions&#xFF09;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x4F20;&#x6765;&#x7684;code&#x53BB;&#x5339;&#x914D;&#x76F8;&#x5E94;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x629B;&#x51FA;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x4E3A;first_ot_404&#x7684;&#x603B;&#x6267;&#x884C;&#x6D41;&#x7A0B;
<img src="https://upload-images.jianshu.io/upload_images/7220971-552b85c9460607f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="2&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x540E;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x5F02;&#x5E38;&#x754C;&#x9762;&#x7684;&#x663E;&#x793A;&#x6D41;&#x7A0B;">2.&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x540E;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x5F02;&#x5E38;&#x754C;&#x9762;&#x7684;&#x663E;&#x793A;&#x6D41;&#x7A0B;</h3>
<p>&#x56E0;&#x4E3A;first_or_404&#xFF08;&#xFF09;&#x540E;&#x9762;&#x4F20;&#x5165;Aborter&#x7684;code&#x4E3A;404&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5BF9;&#x5E94;&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;&#x5C31;&#x662F;
NotFound&#x5BF9;&#x8C61;,&#x800C;&#x5176;&#x4E2D;&#x7684;description&#x63CF;&#x8FF0;&#x6587;&#x672C;&#xFF0C;&#x5C31;&#x662F;&#x5F02;&#x5E38;&#x9875;&#x9762;&#x7684;&#x663E;&#x793A;&#x6587;&#x672C;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NotFound</span><span class="hljs-params">(HTTPException)</span>:</span>

    <span class="hljs-string">&quot;&quot;&quot;*404* `Not Found`

    Raise if a resource does not exist and never existed.
    &quot;&quot;&quot;</span>
    code = <span class="hljs-number">404</span>
    description = (
        <span class="hljs-string">&apos;The requested URL was not found on the server.  &apos;</span>
        <span class="hljs-string">&apos;If you entered the URL manually please check your spelling and &apos;</span>
        <span class="hljs-string">&apos;try again.&apos;</span>
    )
</code></pre>
<p>&#x800C;&#x6240;&#x6709;&#x7684;&#x9875;&#x9762;&#x7684;&#x663E;&#x793A;&#x6587;&#x672C;&#xFF0C;&#x90FD;&#x662F;&#x7531;response&#x6765;&#x505A;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x8BD5;&#x56FE;&#x51FD;&#x6570;&#x5728;&#x8C03;&#x7528;first_or_404()&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x7ED3;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x629B;&#x51FA;&#x4E86;&#x4E0A;&#x9762;&#x7684;NotFound&#x5F02;&#x5E38;&#x800C;&#x7EC8;&#x6B62;&#x4E86;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x5F02;&#x5E38;&#x6D41;&#x7A0B;&#x76F4;&#x5230;&#x754C;&#x9762;&#x663E;&#x793A;&#xFF0C;&#x90FD;&#x662F;&#x7531;HttpException&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x6765;&#x770B;&#x4E0B;&#x5176;&#x5BF9;&#x5E94;&#x6E90;&#x7801;</p>
<pre><code class="lang-python">    <span class="hljs-comment"># get_response&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x4E86;&#x4E00;&#x4E2A;Response&#x5BF9;&#x8C61;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_response</span><span class="hljs-params">(self, environ=None)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;Get a response object.  If one was passed to the exception
        it&apos;s returned directly.

        :param environ: the optional environ for the request.  This
                        can be used to modify the response depending
                        on how the request looked like.
        :return: a :class:`Response` object or a subclass thereof.
        &quot;&quot;&quot;</span>
        <span class="hljs-keyword">if</span> self.response <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">return</span> self.response
        <span class="hljs-keyword">if</span> environ <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            environ = _get_environ(environ)
        headers = self.get_headers(environ)
        <span class="hljs-comment"># get_body&#x83B7;&#x53D6;&#x9875;&#x9762;&#x6587;&#x672C;&#x5185;&#x5BB9;</span>
        <span class="hljs-keyword">return</span> Response(self.get_body(environ), self.code, headers)
</code></pre>
<p>get_body()</p>
<pre><code class="lang-python">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_body</span><span class="hljs-params">(self, environ=None)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;Get the HTML body.&quot;&quot;&quot;</span>
        <span class="hljs-keyword">return</span> text_type((
            <span class="hljs-string">u&apos;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2 Final//EN&quot;&gt;\n&apos;</span>
            <span class="hljs-string">u&apos;&lt;title&gt;%(code)s %(name)s&lt;/title&gt;\n&apos;</span>
            <span class="hljs-string">u&apos;&lt;h1&gt;%(name)s&lt;/h1&gt;\n&apos;</span>
            <span class="hljs-string">u&apos;%(description)s\n&apos;</span>
        ) % {
            <span class="hljs-string">&apos;code&apos;</span>:         self.code,
            <span class="hljs-string">&apos;name&apos;</span>:         escape(self.name),
            <span class="hljs-comment"># self.get_description&#x83B7;&#x53D6;&#x5F02;&#x5E38;&#x7684;description&#x4FE1;&#x606F;</span>
            <span class="hljs-string">&apos;description&apos;</span>:  self.get_description(environ)
        })
</code></pre>
<p>&#x81F3;&#x6B64;&#xFF0C;first_or_404&#xFF0C;&#x4ECE;&#x8C03;&#x7528;&#xFF0C;&#x5230;&#x754C;&#x9762;&#x663E;&#x793A;&#x6D41;&#x7A0B;&#xFF0C;&#x5C31;&#x5256;&#x6790;&#x5B8C;&#x6210;&#x4E86;</p>
<h3 id="3&#x57FA;&#x4E8E;aop&#x7EDF;&#x4E00;&#x5904;&#x7406;&#x5F02;&#x5E38;">3.&#x57FA;&#x4E8E;AOP&#x7EDF;&#x4E00;&#x5904;&#x7406;&#x5F02;&#x5E38;</h3>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E0D;&#x60F3;&#x8FD4;&#x56DE;&#x9ED8;&#x8BA4;&#x7684;404&#x754C;&#x9762;&#xFF0C;&#x800C;&#x60F3;&#x81EA;&#x5DF1;&#x5B9A;&#x5236;&#xFF0C;&#x90A3;&#x4E48;&#x76F4;&#x63A5;&#x60F3;&#x5230;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#xFF0C;&#x8FD4;&#x56DE;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8BD5;&#x56FE;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x4EE3;&#x7801;&#x592A;&#x5570;&#x55E6;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91C7;&#x7528;AOP&#x9762;&#x5411;&#x5207;&#x9762;&#x7684;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x7EDF;&#x4E00;&#x5904;&#x7406;&#x67D0;&#x7C7B;&#x5F02;&#x5E38;&#xFF0C;&#x597D;&#x5728;Flask&#x5DF2;&#x7ECF;&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;</p>
<pre><code class="lang-python"><span class="hljs-comment"># web&#x662F;&#x84DD;&#x56FE;&#x5BF9;&#x8C61;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;app&#x5BF9;&#x8C61;</span>
<span class="hljs-comment"># app_errorhandler&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x4EE3;&#x8868;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x7684;&#x5F02;&#x5E38;</span>
<span class="hljs-comment"># not_found&#x51FD;&#x6570;&#x4E0D;&#x662F;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x89C6;&#x56FE;&#xFF0C;&#x4ED6;&#x53EF;&#x4EE5;&#x505A;&#x4EFB;&#x4F55;&#x4F60;&#x60F3;&#x505A;&#x7684;&#x4E8B;&#x60C5;</span>
<span class="hljs-meta">@web.app_errorhandler(404)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">not_found</span><span class="hljs-params">(e)</span>:</span>
    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&apos;404.html&apos;</span>), <span class="hljs-number">404</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="11.2 first_or_404和可调用对象.html" class="navigation navigation-prev " aria-label="Previous page: 11.2 first_or_404和可调用对象">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="11.4 发送电子邮件.html" class="navigation navigation-next " aria-label="Next page: 11.4 重置密码">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"11.3 HttpException","level":"1.12.3","depth":2,"next":{"title":"11.4 重置密码","level":"1.12.4","depth":2,"path":"11.Python与Flask的结合应用/11.4 发送电子邮件.md","ref":"11.Python与Flask的结合应用/11.4 发送电子邮件.md","articles":[]},"previous":{"title":"11.2 first_or_404和可调用对象","level":"1.12.2","depth":2,"path":"11.Python与Flask的结合应用/11.2 first_or_404和可调用对象.md","ref":"11.Python与Flask的结合应用/11.2 first_or_404和可调用对象.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"11.Python与Flask的结合应用/11.3 HttpException.md","mtime":"2018-06-15T03:11:05.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-11-27T01:29:53.294Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

